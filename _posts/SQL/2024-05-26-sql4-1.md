---
title: "[SQL] 04-1 MySQL의 데이터 형식"

categories: 
  - SQL
tags:
  - [SQL, 데이터베이스, DBMS, 공부]

toc: true
toc_sticky: true
---

# SQL 고급 문법

## MySQL의 데이터 형식

테이블을 만들 때는 데이터 형식을 설정해야 한다. <br> 데이터 형식에는 크게 숫자형, 문자형, 날짜형이 있다. <br> 이렇게 다양한 데이터 형식이 존재하는 이유는 실제로 저장될 데이터의 형태가 다양하기 때문이다. <br> 각 데이터에 맞는 데이터 형식을 지정함으로써 효율적으로 저장할 수 있다.


예를 들어, 이름을 저장하기 위해 내부적으로 100 글자를 저장할 칸을 준비하는 것은 상당히 낭비이다. <br> 이러한 낭비가 누적되면 SQL을 아무리 잘 만들어도 비효율적일 수밖에 없다.



### 데이터 형식

MySQL에서 제공하는 데이터 형식의 종류는 수십 개 정도이고, 각 데이터 형식마다 크기나 표현할 수 있는 숫자의 범위가 다르다.


#### 정수형

정수형은 소수점이 없는 숫자, 즉 인원 수, 가격, 수량 등에 많이 사용한다. 


데이터 형식|바이트 수|숫자 범위
---|---|---
TINYINT|1|-128 ~ 127
SMALLINT|2|-32,768 ~ 32,767
INT|4|약 -21억 ~ +21억
BIGINT|8|약 -900경 ~ +900경


정수형을 사용하는 예제를 살펴보겠다. <br> 앞에서 만들었던 인터넷 마켓의 회원 테이블(member)에서 인원수(mem_number) 열은 INT로, 평균 키(height) 열은 SMALLINT로 지정했다.

```sql
CREATE TABLE member
(mem_id CHAR(8) NOT NULL PRIMARY KEY,
 mem_name VARCHAR(10) NOT NULL,
 mem_number INT NOT NULL,
 addr CHAR(2) NOT NULL,
 phone1 CHAR(3),
 phone2 CHAR(8),
 height SMALLINT,
 debut_date DATE
 );
```

인원수(mem_number) 열은 INT로 지정해서 -21억 ~ +21억까지 저장할 수 있다. <br> 하지만 인원이 이렇게 많을 필요는 없으므로 최대 127명까지 지정할 수 있는 TINYINT로 지정해도 충분하다.

평균 키(height) 열은 SAMLLINT로 지정해서 -32768 ~ 32767까지 저장할 수 있다. <br> 키 역시 30000cm가 넘을 리는 없으므로 TINYINT를 고려할 수 있다. <br> 하지만 TINYINT는 -128 ~ +127로 200CM가 넘는 사람도 있으므로 범위가 부족하다.

이를 해결하기 위해 값의 범위가 0부터 시작되는 UNSIGNED 예약어를 사용할 수 있다. <br> TINYINT와 TINYINT UNSIGNED 모두 1바이트의 크기이다. <br> 1바이트는 256개를 표현하므로 -128 ~ +127로 표현하고나, 0 ~ 255로 표현하거나 모두 256개를 표현하는 것이다.

결국 회원 테이블은 다음과 같이 구성하는 것이 더 효율적이다.

```sql
CREATE TABLE member
(mem_id CHAR(8) NOT NULL PRIMARY KEY,
 mem_name VARCHAR(10) NOT NULL,
 mem_number TINYINT NOT NULL,
 addr CHAR(2) NOT NULL,
 phone1 CHAR(3),
 phone2 CHAR(8),
 height TINYINT UNSIGNED,
 debut_date DATE
 );
```

나머지 정수형도 마찬가지로 UNSIGNED를 붙이면 0부터 범위가 지정된다.

#### 문자형

문자형은 글자를 저장하기 위해 사용하며, 입력할 최대 글자의 개수를 지정해야 한다.

데이터 형식|바이트 수
---|---
CHAR(개수)|1 ~ 255
VARCHAR(개수)|1 ~ 16383

CHAR는 문자를 의미하는 Character의 약자로, 고정길이 문자형이라고 부른다. <br> 즉, 자릿수가 고정되어 있다. <br> 예를 들어 CHAR(10)에 '가나다' 3글자만 저장해도 10자리를 모두 확보한 후에 앞에 3자리를 사용하고 뒤의 7자리는 낭비하게 된다. <br> 이와 달리 VARCHAR(Variable Character)는 가변 길이 문자형으로, VARCHAR(10)에 '가나다' 3글자를 저장할 경우 3자리만 사용한다.


VARCHAR가 CHAR보다 공간을 효율적으로 운영할 수 있지만, MySQL 내부적으로 성능(빠른 속도)면에서는 CHAR로 설정하는 것이 조금 더 좋다.


회원 테이블의 문자형을 확인해보겠다.

```sql
CREATE TABLE member
(mem_id CHAR(8) NOT NULL PRIMARY KEY,
 mem_name VARCHAR(10) NOT NULL,
 mem_number TINYINT NOT NULL,
 addr CHAR(2) NOT NULL,
 phone1 CHAR(3),
 phone2 CHAR(8),
 height TINYINT UNSIGNED,
 debut_date DATE
 );
```

회원 아이디(mem_id)는 BLK, APK, GRL 등 3글자로 입력되는데, 데이터 형식은 CHAR(8)로 설정되어 있다. <br> CHAR(8)을 CHAR(3)으로 줄여도 되지만 향후에 더 긴 회원 아이디를 만들 수 있다고 가정하고 CHAR(8)로 설정했다. <br> VARCHAR(8)로 변경해도 별 문제는 없다.


국번(phone1)은 02, 031, 055 등과 같이 제일 앞에 0이 붙어야 하는데 정수형으로 지정하면 0이 사라지므로 CHAR로 지정했다.


연락처 전화번호(phone2) 역시 모두 숫자로 이루어져서 정수형으로 지정해야 할 것 같지만, CHAR로 지정되어 있다. <br> 이유는 전화번호가 숫자로서 의미가 없기 때문이다. <br> 숫자로서 의미를 가지려면 다음 2가지 중 1가지는 충족해야 한다. 

- 더하기/빼기 등의 연산에 의미가 있다.
- 크다/작다 또는 순서에 의미가 있다.

전화번호는 위 2가지 중 어떤 것에도 해당하지 않으므로 숫자가 아닌 문자로 지정했다.


#### 대량의 데이터 형식

문자형인 CHAR는 최대 255자까지, VARCHAR는 최대 16383자까지 지정이 가능하다. 


그래서 더 큰 데이터를 저장하려면 다음과 같은 형식을 사용한다.

데이터 형식||바이트 수
---|---|---
TEXT 형식|TEXT|1 ~ 65535
TEXT 형식|LONGTEXT|1 ~ 4294967295
BLOB 형식|BLOB|1 ~ 65535
BLOB 형식|LONGBLOB|1 ~ 4294967295


TEXT로 지정하면 최대 65535자까지, LONGTEXT로 지정하면 최대 약 42억자까지 지정된다.

BLOB는 Binary Long Object의 약자로 글자가 아닌 이미지, 동영상 등의 데이터라고 생각하면 된다. <br> 이런 것을 이진(Binary) 데이터라고 부른다. <br> 테이블에 사진이나 동영상과 같은 것을 저장하고 싶다면 BLOB이나 LONGBLOB로 데이터 형식을 지정해야 한다.

LONGTEXT 및 LONGBLOB로 설정하면 각 데이터는 최대 4GB까지 입력할 수 있다.



#### 실수형

실수형은 수수점이 있는 숫자를 저정할 때 사용한다.

데이터 형식|바이트 수|설명
FLOAT|4|소수점 아래 7자리까지 표현
DOUBLE|8|소수점 아래 15자리까지 표현


#### 날짜형

날짜형은 날짜 및 시간을 저장할 때 사용한다.

데이터 형식|바이트 수|설명
---|---|---
DATE|3|날짜만 저장 (YYYY-MM-DD 형식으로 사용)
TIME|3|시간만 저장 (HH:MM:SS 형식으로 사용)
DATETIME|8|날짜 및 시간을 저장 (YYYY-MM-DD HH:MM:SS 형식으로 사용)



### 변수의 사용




### 데이터 형 변환