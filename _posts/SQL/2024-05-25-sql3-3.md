---
title: "[SQL] 03-3 데이터 변경을 위한 SQL 문"

categories: 
  - SQL
tags:
  - [SQL, 데이터베이스, DBMS, 공부]

toc: true
toc_sticky: true
---

# SQL 기본 문법

## 데이터 변경을 위한 SQL 문

데이터베이스와 테이블을 만든 후에는 데이터를 변경하는, 즉 입력/수정/삭제하는 기능이 필요하다.



예를 들어, 새로 가입한 회원을 테이블에 입력할 때는 INSERT 문을, 회원의 주소나 연락처가 변경되어 정보를 수정할 때는 UPDATE 문을 사용한다. <br> 또, 회원이 탈퇴해서 회원을 삭제할 때는 DELETE 문을 사용한다.


### 데이터 입력: INSERT

테이블에 행 데이터를 입력하는 기본적인 SQL 문은 INSERT이다.


#### INSERT 문의 기본 문법

INSERT는 테이블에 데이터를 삽입하는 명령어로, 기본적인 형식은 다음과 같다.

```
INSERT INTO 테이블 [(열1, 열2, ...)] VALUES (값1, 값2, ...)
```

테이블 이름 다음에 나오는 열은 생략이 가능하다. <br> 열 이름을 생략할 경우에 VALUES 다음에 나온느 값들의 순서 및 개수는 테이블을 정의할 때의 열 순서 및 개수와 동일해야 한다. <br> 간단한 테이블을 만들어서 연습해보겠다.


테이블의 열이 3개이므로 입력할 때도 차례에 맞춰서 3개를 입력했다.

```SQL
USE market_db;
CREATE TABLE hongong1 (toy_id INT, toy_name CHAR(4), age INT);
INSERT INTO hongong1 VALUES (1, '우디', 25);
```

아이디(toy_id)와 이름(toy_name)만 입력하고 나이(age)는 입력하고 싶지 않다면 다음과 같이 테이블 이름 뒤에 입력할 열의 이름을 써줘야 한다. <br> 이 경우 생략한 나이(age) 열에는 아무것도 없다는 의미의 NULL 값이 들어간다.

```sql
INSERT INTO hongong1 (toy_id, toy_name) VALUES (2, '버즈');
```

열의 순서를 바꿔서 입력하고 싶을 때는 열 이름과 값을 원하는 순서에 맞춰 써주면 된다.

```sql
INSERT INTO hongong1 (toy_name, age, toy_id) VALUES ('제시', 20, 3);
```

#### 자동으로 증가하는 AUTO_INCREMENT

AUTO_INCREMENT는 열을 정의할 때 1부터 증가하는 값을 입력해준다. <br> INSERT에서는 해당 열이 없다고 생각하고 입력하면 된다. <br> 단, 주의할 점은 AUTO_INCREMENT로 지정하는 열은 꼭 PRIMARY KEY로 지정해줘야 한다.

우선 간단한 테이블을 만들어보겠다. <br> 아이디(toy_id) 열을 자동 증가로 설정했다.

```sql
CREATE TABLE hongong2 (
    toy_id INT AUTO_INCREMENT PRIMARY KEY,
    toy_name CHAR(4),
    age INT);
```

이제 테이블에 데이터를 입력해보겠다. <br> 자동 증가하는 부분은 NULL 값으로 채워 놓으면 된다. <br> 결과를 보면 아이디(toy_id)에 1부터 차례대로 채워진 것을 확인할 수 있다.

```sql
INSERT INTO hongong2 VALUES (NULL, '보핍', 25);
INSERT INTO hongong2 VALUES (NULL, '슬링키', 22);
INSERT INTO hongong2 VALUES (NULL, '렉스', 21);
SELECT * FROM hongong2;
```
![스크린샷 2024-05-25 203010](https://github.com/gsh06169/gsh06169/assets/150469460/5daa0cc0-c226-4d07-ba97-8d28b9a7b5ca)

계속 입력하다 보면 현재 어느 숫자까지 증가되었는지 확인이 필요하다.

```SQL
SELECT LAST_INSERT_ID();
```

만약 AUTO_INCREMENT로 입력되는 다음 값을 100부터 시작하도록 변경하고 싶다면 다음과 같이 실행한다. <br> ALTER TABLE 뒤에는 테이블 이름을 입력하고, 자동 증가를 100부터 시작하기 위해 AUTO_INCREMENT를 100으로 지정했다.

```SQL
ALTER TABLE hongong2 AUTO_INCREMENT=100;
INSERT INTO hongong2 VALUES (NULL, '재남', 35);
SELECT * FROM hongong2;
```
![스크린샷 2024-05-25 203518](https://github.com/gsh06169/gsh06169/assets/150469460/e8e3cc3e-af0d-44b3-bba8-c2ac27c9322b)


이번에는 처음부터 입력되는 값을 1000으로 지정하고, 다음 값은 1003, 1006, 1009, ...으로 3씩 증가하도록 설정하는 방법을 살펴보겠다.


이런 경우에는 시스템 변수인 @@auto_increment_increment를 변경시켜야 한다. <br> 테이블을 새로 만들고 자동 증가의 시작값을 1000으로 설정했다. <br> 그리고 증가값은 3으로 하기 위해  @@auto_increment_increment를 3으로 지정했다.

```sql
CREATE TABLE hongong3 (
    toy_id INT AUTO_INCREMENT PRIMARY KEY,
    toy_name CHAR(4),
    age INT);
ALTER TABLE hongong3 AUTO_INCREMENT=1000;
SET @@auto_increment_increment=3;
```

다음 SQL을 실행해 처음 시작되는 값과 증가값을 확인해보겠다.

```sql
INSERT INTO hongong3 VALUES (NULL, '토마스', 20);
INSERT INTO hongong3 VALUES (NULL, '제임스', 23);
INSERT INTO hongong3 VALUES (NULL, '고든', 25);
SELECT * FROM hongong3;
```





### 데이터 수정: UPDATE



### 데이터 삭제: DELETE



### 대용량 테이블의 삭제